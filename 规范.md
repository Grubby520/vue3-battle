# srm-web

## 约定

级别  
P0: 必须  
P1: 建议

### 命名 【P0】

- 目录：采用全小写命名,多个单词用驼峰规则命名
- 普通文件：采用全小写命名,多个单词用驼峰规则命名
- vue 公共组件：遵循大驼峰规则,以'Sl'为开头命名,文件名和里面的 name 属性保持一致
- vue 单文件：以大驼峰规则命名
- 常量：全大写,多个单词以下划线连接
- css 类名：采用 BEM 规范

### 路径 【P0】

- 引用公共 vue 组件使用绝对路径`@/XXX/XXX...`或使用 vue.config.js 配置的别名路径,禁止使用相对路径

### 样式 【P1】

- 单位尽量只使用 rem、em、vm、vh 酌情使用,避免使用 px

### 添加注释 【P1】

- 复杂的代码逻辑处
- 语义不明的 html 结构处
- 语义不明的样式表处

### git 【P0】

- **提交** 需要在备注里面注明此次修改相关的需求,或 task、bug 的 id,例如：bug#123,234 [bug 说明];task#123,234 [需求说明];
- **合并** 使用命令`git merge --no-ff -m "merge XXX分支" [合并分支]`

### 单一"数据源" 【P0】

- 同一文案单一存储,lang/zh.js、lang/en.js 【P1】
- 同一 api 接口调用,放在一处,按业务域划分,业务域划分可参照后端接口划分方式

### vue 组件 【P0】

- props 和 components 选项放在 data 之前

### 路由统一使用懒加载方式 【P0】

```
{
    path: '',
    name: 'index',
    component: () => import('../views/index.vue')
}
```

### 字体图标 【P0】

- 优先选择 element-ui 存在的图标
- 自定义图标通过阿里 iconfont 在线平台进行管理

### 文案管理 【P0】

- 复用文案通过 i18n 进行管理

### 数据结构 【P0】-特殊情况再特殊处理

- 数据字典

```
[
  {
    label:'',
    value:''
  }
]
```

### 接口参数 【P0】

- 避免在 url 地址上拼接参数

### lodash 使用建议

```
  import { merge } from 'lodash'
  import { merge as _merge, forEach as _forEach } from 'lodash'
```

- 以上两种方式都可以，建议使用第二种方式，便于区分是原生的方法还是 lodash；
- 采用这样的方式引用，其目的是为了摇树优化；

### 消息通知

- Message：用于主动操作后的反馈提示,居于页面顶部中部
- Notification：用于被动提示,悬浮出现在页面角落,显示全局的通知提醒消息
- MessageBox：主要用于信息的确认
- Alert：用于页面中展示重要的提示信息

### 其他

- 写入操作按钮加上防抖或 loading 效果【P0】
- 如无必要尽量少在入口文件加代码,避免入口文件过大,增加首屏加载时间【P1】
- 源码中不要存在 console.log()代码【P0】
